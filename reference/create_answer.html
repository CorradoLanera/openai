<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
Note: This endpoint is deprecated and will be removed on December 3,
2022. Please see Answers Transition Guide
for details.
Answers the specified question using the provided documents and examples. See
this page for
details."><title>Create answer — create_answer • openai</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create answer — create_answer"><meta property="og:description" content="
Note: This endpoint is deprecated and will be removed on December 3,
2022. Please see Answers Transition Guide
for details.
Answers the specified question using the provided documents and examples. See
this page for
details."><meta property="og:image" content="https://irudnyts.github.io/openai/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">openai</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/irudnyts/openai/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create answer</h1>
      <small class="dont-index">Source: <a href="https://github.com/irudnyts/openai/blob/HEAD/R/create_answer.R" class="external-link"><code>R/create_answer.R</code></a></small>
      <div class="d-none name"><code>create_answer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a></p>
<p><strong>Note:</strong> This endpoint is deprecated and will be removed on December 3,
2022. Please see <a href="https://help.openai.com/en/articles/6233728-answers-transition-guide" class="external-link">Answers Transition Guide</a>
for details.</p>
<p>Answers the specified question using the provided documents and examples. See
<a href="https://beta.openai.com/docs/api-reference/answers/create" class="external-link">this page</a> for
details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">create_answer</span><span class="op">(</span>
  model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ada"</span>, <span class="st">"babbage"</span>, <span class="st">"curie"</span>, <span class="st">"davinci"</span><span class="op">)</span>,
  <span class="va">question</span>,
  <span class="va">examples</span>,
  <span class="va">examples_context</span>,
  documents <span class="op">=</span> <span class="cn">NULL</span>,
  file <span class="op">=</span> <span class="cn">NULL</span>,
  search_model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ada"</span>, <span class="st">"babbage"</span>, <span class="st">"curie"</span>, <span class="st">"davinci"</span><span class="op">)</span>,
  max_rerank <span class="op">=</span> <span class="fl">200</span>,
  temperature <span class="op">=</span> <span class="fl">0</span>,
  logprobs <span class="op">=</span> <span class="cn">NULL</span>,
  max_tokens <span class="op">=</span> <span class="fl">16</span>,
  stop <span class="op">=</span> <span class="cn">NULL</span>,
  n <span class="op">=</span> <span class="fl">1</span>,
  logit_bias <span class="op">=</span> <span class="cn">NULL</span>,
  return_metadata <span class="op">=</span> <span class="cn">FALSE</span>,
  return_prompt <span class="op">=</span> <span class="cn">FALSE</span>,
  expand <span class="op">=</span> <span class="cn">NULL</span>,
  user <span class="op">=</span> <span class="cn">NULL</span>,
  openai_api_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OPENAI_API_KEY"</span><span class="op">)</span>,
  openai_organization <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model</dt>
<dd><p>required; defaults to <code>"ada"</code>; a length one character vector,
one among <code>"ada"</code>, <code>"babbage"</code>, <code>"curie"</code>, and <code>"davinci"</code>. ID of the
engine to use for completion.</p></dd>
<dt>question</dt>
<dd><p>required; a length one character vector. Question to get
answered.</p></dd>
<dt>examples</dt>
<dd><p>required; a list. List of (question, answer) pairs that will
help steer the model towards the tone and answer format you'd like. We
recommend adding 2 to 3 examples.</p></dd>
<dt>examples_context</dt>
<dd><p>required; a length one character vector. A text
snippet containing the contextual information used to generate the answers
for the <code>examples</code> you provide.</p></dd>
<dt>documents</dt>
<dd><p>optional; defaults to <code>NULL</code>; an arbitrary length character
vector. List of documents from which the answer for the input <code>question</code>
should be derived. If this is an empty list, the question will be answered
based on the question-answer examples. You should specify either
<code>documents</code> or a <code>file</code>, but not both.</p></dd>
<dt>file</dt>
<dd><p>optional; defaults to <code>NULL</code>; a length one character vector. The
ID of an uploaded file that contains documents to search over. See
<code><a href="upload_file.html">upload_file()</a></code> for how to upload a file of the desired format and
purpose. You should specify either <code>documents</code> or a <code>file</code>, but not both.</p></dd>
<dt>search_model</dt>
<dd><p>required; defaults to <code>ada</code>; a length one character
vector, one among <code>"ada"</code>, <code>"babbage"</code>, <code>"curie"</code>, and <code>"davinci"</code>. ID of
the engine to use for <code><a href="create_search.html">create_search()</a></code>.</p></dd>
<dt>max_rerank</dt>
<dd><p>required; defaults to <code>200</code>; a length one numeric vector
with the integer value greater than <code>0</code>. The maximum number of documents to
be ranked by <code><a href="create_search.html">create_search()</a></code> when using <code>file</code>. Setting it to a higher
value leads to improved accuracy but with increased latency and cost.</p></dd>
<dt>temperature</dt>
<dd><p>required; defaults to <code>0</code>; a length one numeric vector
with the value between <code>0</code> and <code>2</code>. What sampling temperature to use.
Higher values mean the model will take more risks and value 0 (argmax
sampling) works better for scenarios with a well-defined answer.</p></dd>
<dt>logprobs</dt>
<dd><p>optional; defaults to <code>NULL</code>; a length one numeric vector
with the integer value between <code>0</code> and <code>5</code>. Include the log probabilities
on the <code>logprobs</code> most likely tokens, as well the chosen tokens. For
example, if <code>logprobs</code> is <code>5</code>, the API will return a list of the 5 most
likely tokens. The API will always return the <code>logprob</code> of the sampled
token, so there may be up to <code>logprobs+1</code> elements in the response. The
maximum value for logprobs is <code>5</code>. If you need more than this, please
contact <a href="mailto:support@openai.com">support@openai.com</a> and describe your use case. When
<code>logprobs</code> is set, <code>completion</code> will be automatically added into <code>expand</code>
to get the logprobs.</p></dd>
<dt>max_tokens</dt>
<dd><p>required; defaults to <code>16</code>; a length one numeric vector
with the integer value greater than <code>0</code>. The maximum number of tokens
allowed for the generated answer.</p></dd>
<dt>stop</dt>
<dd><p>optional; defaults to <code>NULL</code>; a character vector of length
between one and four. Up to 4 sequences where the API will stop generating
further tokens. The returned text will not contain the stop sequence.</p></dd>
<dt>n</dt>
<dd><p>required; defaults to <code>1</code>; a length one numeric vector with the
integer value greater than <code>0</code>. How many answers to generate for each
question.</p></dd>
<dt>logit_bias</dt>
<dd><p>optional; defaults to <code>NULL</code>; a named list. Modify the
likelihood of specified tokens appearing in the completion. Accepts a list
that maps tokens (specified by their token ID in the GPT tokenizer) to an
associated bias value from <code>-100</code> to <code>100</code>. You can use this tokenizer tool
(which works for both GPT-2 and GPT-3) to convert text to token IDs.
Mathematically, the bias is added to the logits generated by the model
prior to sampling. The exact effect will vary per model, but values between
<code>-1</code> and <code>1</code> should decrease or increase likelihood of selection; values
like <code>-100</code> or <code>100</code> should result in a ban or exclusive selection of the
relevant token. As an example, you can pass <code>list("50256" = -100)</code> to
prevent the <code>&lt;|endoftext|&gt;</code> token from being generated.</p></dd>
<dt>return_metadata</dt>
<dd><p>required; defaults to <code>FALSE</code>; a length one logical
vector. A special boolean flag for showing metadata. If set to <code>TRUE</code>, each
document entry in the returned JSON will contain a "metadata" field. This
flag only takes effect when <code>file</code> is set.</p></dd>
<dt>return_prompt</dt>
<dd><p>required; defaults to <code>FALSE</code>; a length one logical
vector. If set to <code>TRUE</code>, the returned JSON will include a "prompt" field
containing the final prompt that was used to request a completion. This is
mainly useful for debugging purposes.</p></dd>
<dt>expand</dt>
<dd><p>optional; defaults to <code>NULL</code>; a list elements of which are
among <code>completion</code> and <code>file</code>. If an object name is in the list, we provide
the full information of the object; otherwise, we only provide the object
ID. Currently we support <code>completion</code> and <code>file</code> objects for expansion.</p></dd>
<dt>user</dt>
<dd><p>optional; defaults to <code>NULL</code>; a length one character vector. A
unique identifier representing your end-user, which will help OpenAI to
monitor and detect abuse.</p></dd>
<dt>openai_api_key</dt>
<dd><p>required; defaults to <code>Sys.getenv("OPENAI_API_KEY")</code>
(i.e., the value is retrieved from the <code>.Renviron</code> file); a length one
character vector. Specifies OpenAI API key.</p></dd>
<dt>openai_organization</dt>
<dd><p>optional; defaults to <code>NULL</code>; a length one
character vector. Specifies OpenAI organization.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a list, elements of which contain an answer and other
supplementary information.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Given a question, a set of documents, and some examples, the API
generates an answer to the question based on the information in the set of
documents. This is useful for question-answering applications on sources of
truth, like company documentation or a knowledge base. Answers the specified
question using the provided documents and examples. The endpoint first
<a href="https://beta.openai.com/docs/api-reference/searches" class="external-link">searches</a> over provided
documents or files to find relevant context. The relevant context is combined
with the provided examples and question to create the prompt for
<a href="https://beta.openai.com/docs/api-reference/completions" class="external-link">completion</a>. Related
guide: <a href="https://beta.openai.com/docs/guides/answers" class="external-link">Question answering</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="fu">create_answer</span><span class="op">(</span></span>
<span class="r-in">    search_model <span class="op">=</span> <span class="st">"ada"</span>,</span>
<span class="r-in">    model <span class="op">=</span> <span class="st">"curie"</span>,</span>
<span class="r-in">    question <span class="op">=</span> <span class="st">"How many red apples do I have?"</span>,</span>
<span class="r-in">    documents <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"I have five green apples."</span>, <span class="st">"I love oranges."</span><span class="op">)</span>,</span>
<span class="r-in">    examples_context <span class="op">=</span> <span class="st">"Jack has three brothers and one sister. His sister is sad"</span>,</span>
<span class="r-in">    examples <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"How many siblings has Jack?"</span>, <span class="st">"Three"</span><span class="op">)</span>,</span>
<span class="r-in">        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Who is sad?"</span>, <span class="st">"Jack's sister is."</span><span class="op">)</span></span>
<span class="r-in">    <span class="op">)</span>,</span>
<span class="r-in">    max_tokens <span class="op">=</span> <span class="fl">5</span>,</span>
<span class="r-in">    stop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"\n"</span>, <span class="st">"&lt;|endoftext|&gt;"</span><span class="op">)</span>,</span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Iegor Rudnytskyi.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

